## Практическое занятие №14

### Тема: Работа с асинхронными операциями в JS.

Репозитарий содержит материалы по практическому занятию №14, посвященному работе с асинхронными операциями.

### Цели занятия
- закрепление знаний, полученных на лекциях;
- практическое применение знаний, полученных на лекциях.

### Задачи занятия
1. Пишем сетевой запрос. Наша задача - обратиться к "бэку" по адресу `https://fakestoreapi.com/products/categories` GET-запросом, и вывести в консоль результат в "удобоваримом" виде (результат нам возвращается в виде JSON). Этот запрос нам вернет массив с категориями товаров.
2. Усложняем задачу. Нужно написать функцию `renderSelect`. Она должна:
 Добавляем в разметку ПЕРЕД блоком `.productsContainer` компонент `select` (выпадающее меню). Нужно заполнить этот `select` опциями (`<option value='value'>option_text</option>`), которые нам пришли с "бэка" в предыдущей задаче. То есть, пройтись по массиву результатов, для каждого создать элемент `option`, и добавить его в наш `select`. В качестве `value` используем значение, в качестве `option_text` используем то же, но с большой буквы (т.е. надо сделать первую букву значения заглавной).
3. Пишем функцию `getProducts`. В качестве аргумента, она принимает категорию товаров. Она должна сделать запрос по адресу `https://fakestoreapi.com/products/category/CATEGORY`. В ответ нам придет список товаров этой категории. Наша задача - отрендерить их в списке товаров (`div.productsContainer`). ВАЖНО! Список товаров перед рендерингом надо очистить! Товары рендерим в виде карточек, класс - `productCard`.
4. Дорабатываем функцию `getProducts`. Нужно добавить рассмотрение случая, когда у нас не задана категория (хотим запросить все товары). Нужно сделать так, чтобы, если в аргументе не передана категория, то запрос шел на адрес `https://fakestoreapi.com/products`.
5. Добавляем обработчик события `change` на наш `select`. При событии, нам нужно вызывать функцию из п.12 с соответствующей категорией - т.е. мы рисуем список товаров выбранной категории.
6. Добавляем "иконку загрузки" на нашу страницу. Добавляем перед нашим `select` контейнер (`div.loader`) с текстом "Подождите, идет загрузка...". По умолчанию он скрыт (`display: none`). Нам нужно показывать этот блок при начале запроса списка товаров, и скрывать, когда список товаров успешно загружен.
7. Разбираем понятие "промисификация". Нам нужно разделить функцию `getProducts` на две:
 - первая (`requestProducts`) - будет запрашивать товары и возвращать ПРОМИС. В аргументах - по-прежнему принимает категорию товара
 - вторая (`renderProducts`) - будет рендерить список товаров (просто рендерить, не более). В аргуменах будет принимать массив товаров.
8. Делаем "промисификацию" функции `renderSelect`. Нам нужно, чтобы функция:
 - возвращала промис
 - запрашивала категории
 - заполняла наш `select` нужными категориями
 - резолвила бы возвращаемый промис списком категорий ПОСЛЕ того, как они будут отрендерены в селекте
9. Дорабатываем всю страничку. Нам нужно, чтобы при запуске скрипта мы:
 - показывали иконку загрузки (п.6)
 - запускали запрос категорий (функция п.8)
 - запускали запрос ВСЕХ товаров (функция из п.4, БЕЗ аргумента)
 - по завершении ОБОИХ запросов, мы скрываем иконку загрузки и показываем селект и блок с товарами. В этом нам поможет `Promise.all`

### Полезные ссылки
 - [setTimeout, setInterval](https://learn.javascript.ru/settimeout-setinterval) - русскоязычный гайд по таймаутам и интервалам. Настоятельно рекомендуется к прочтению.
 - [Раздел про промисы](https://learn.javascript.ru/async) - это раздел учебника, посвященный промисам. Также настоятельно рекомендуется к прочтению - по этой теме стопроцентно будут вопросы на собеседованиях.
