# README

## Практическое занятие №33

### Тема:

Репозитарий содержит материалы по практическому занятию №33, посвященному работе с состоянием компонентов в React.js, хуку useState, и приему "подъем состояния" (lifting state).

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Задачи занятия
1. Вспоминаем работу с состоянием. В компонент `SimpleInput`, добавляем локальное состояние, которое будет отвечать за тему инпута (светлая/темная - `light/dark`). По умолчанию - светлая тема. Нужно применять к инпуту класс `lightInput` или `darkInput` в зависимости от темы.
2. Создаем компонент `Greeting`, который будет приветствовать нашего пользователя. У него должно быть свое внутреннее состояние, которое содержит имя пользователя (по умолчанию - пустая строка). Задача компонента - отрендерить параграф. Если имя пользователя пустое - текст "Hello, visitor!", а если непустое - то "Hello, USERNAME!". Компонент отрендерим в компоненте `App`, под `LoginForm`.
3. Теперь нам нужно научить `LoginForm` и `Greeting` работать вместе. Сейчас, при нажатии на кнопку входа в компоненте `LoginForm`, мы осуществляем валидацию полей. Нужно, если поля заполнены корректно, как-то передать логин пользователя (то, что введено в поле `login`) в компонент `Greeting`. В этом нам поможет прием "подъем состояния".
4. Поработаем с массивами. Нужно вести протокол попыток авторизации. Добавим в форму еще кусочек локального состояния, назовем его `attempts`. Инициализируем пустым массивом. Каждый раз, при клике на кнопку "Войти", нам нужно добавлять в этот массив объект следующей структуры:
```
{
  id: Date.now(),
  login: "USER_LOGIN",
  pwd: "USER_PWD:
}
```

То есть мы добавляем в массив попыток авторизации объект с данными о попытке авторизации. В качестве идентификатора мы используем текущие дату и время в миллисекундах.
5. Пора отрендерить массив попыток. Нам нужно отрендерить его в `div`, который мы разместим после кнопки входа. Каждый элемент рендерим как параграф с текстом "Логин - login, пароль - pwd".
6. Добавляем обработчик кликов на эти параграфы. При клике на параграф, нужно удалить его из массива попыток.
7. Поработаем со сложными состояниями. Сейчас у нас в компоненте `LoginForm` для каждого инпута есть свой кусочек состояния. Сделаем так, чтобы у нас был один общий объект, в котором мы будем держать данные инпутов. То есть теперь у нас будет не login, pwd, а один объект `formState`, у которого будут свойства login, pwd - и вот они как раз и будут содержать значения инпутов. Важный момент: при обновлении какого-то из инпутов, нужно не потерять все остальное, что есть в стейте!
8. Задача повышенной сложности. Еще усложним нашу форму. Сейчас у нас есть кусочек состояния, который отвечает за наличие ошибки и текст ошибки. Давайте предположим, что мы хотим валидировать каждый инпут по отдельности, и у каждого инпута может быть свое сообщение об ошибке. Для этого, нам нужно:
 - под каждым инпутом рисовать параграф с текстом ошибки этого иинпута. Если ошибки нет - то параграф рендерить не нужно
 - изменить стейт нашей формы: раньше у нас в свойствах объекта были значения инпутов, а теперь должны быть объекты. Эти объекты должны хранить значение, введенное в инпут, и текст ошибки (если есть).

### Полезные ссылки по занятию:
 - [React - sharing state](https://react.dev/learn/sharing-state-between-components) - англоязычная отличная документация по "разделению" состояния между компонентами, подъему состояния и т.д. Настоятельно рекомендуется к прочтению.
 - [React - передача данных между компонентами](https://medium.com/@jmuse/%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BC%D0%B5%D0%B6%D0%B4%D1%83-%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8-%D0%B2-react-d86394da2b50) - русскоязычная статья с примерами, как обмениваться данными между реакт компонентами. Сложнее для понимания, рекомендуется прочитать несколько раз и поиграть с примерами.
