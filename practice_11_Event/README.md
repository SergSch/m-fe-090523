# README

## Практическое занятие №11

### Тема: Работа с объектом Event. Погружение и всплытие событий.

Репозитарий содержит материалы по практическому занятию №11, посвященному работе с событиями в JS, методам объекта Event.

### Цели занятия
- закрепление знаний, полученных на лекции;
- практическое применение полученных знаний.

### Задачи занятия
1. Ставим обработчик на событие загрузки документа (`DOMContentLoaded`). Нужно вывести в консоль текущее время (форматированное по умолчанию). Чтобы получить строку с текущим временем, используем `new Date()`.
2. Работаем с всплытием событий. В DOM добавлен блок `div#bubblingBlock`. В нем есть кнопки с разными текстами. Нужно сделать так, чтобы при клике на кнопки, в консоль выводилось сообщение "Кликнута кнопка ТЕКСТ_КНОПКИ". ВАЖНО! Обработчик клика добавляем НЕ на кнопки!
3. Усложняем нашу задачу. Предположим, мы хотим "протоколировать" все клики мыши на странице. При каждом клике, нам нужно выводить в консоль тип DOM-узла, по которому кликнули. Подсказки:
 - нам нужно обрабатывать события на уровне документа, т.е. добавить ОДИН обработчик.
 - для получения типа узла, используем свойство `nodeName` элемента.
4. Задача "со звездочкой". Делаем "скрытую" от нашего протоколирования кнопку. Нужно, чтобы при клике на кнопку First Button наш обработчик из 3-й задачи не срабатывал. Подсказка - нужно предотвратить всплытие.
5. Работаем с текстовым полем `input#testInput`. Наша задача - протоколировать нажатие каждой кнопки (выводить в консоль ее код).
 - нужен обработчик события нажатия кнопки на инпут. Событие - `keypress`
 - в объекте события, есть свойство `charCode` - это код нажатой кнопки. Его нужно вывести в консоль.
6. Пишем свою функцию валидации для инпута, назовем ее `validateInput`. Предположим, мы вводим количество единиц товара, и у нас разрешенные символы - только цифры. Наша задача - запретить ввод в текстовое поле не-цифровых символов.
 - нужен обработчик на `keypress` текстового поля - это будет наша функция `validateInput`
 - при обрабокте события, проверяем `event.charCode`.
 - коды клавиш-цифр - от 48 до 57.
 - здесь нам нужно ПРЕДОТВРАТИТЬ стандартное поведение (т.е. изменение текста инпута).
7. Усложняем валидацию. Теперь мы хотим проверять правильность ввода при "уходе" фокуса из текстового поля. Что требуется:
 - закомментировать добавление обработчика `keypress` на инпут
 - добавить обработчик события утери фокуса (`focusout`) на наш инпут
 - при обработке события, проверять текст инпута (через `event.target.value`)
 - если текст не является числом (используем метод `isNaN`), то возвращаем фокус в наше текстовое поле (для этого, у DOM-элементов есть метод `focus` - то есть нам нужно вызвать этот метод у инпута).
8. Добавляем визуализации - расширяем обработчик события утери фокуса у инпута. Теперь, если в инпуте не число - то применяем к инпуту класс `error-input`. Если число валидное - то этот класс убираем.
9. Добавляем в DOM чекбокс с текстом "Валидация". Этот чекбокс нужно добавить в `div.inputsBlock`. Задача чекбокса - включать/выключать валидацию. На событие `change` чекбокса добавляем обработчик. В обработчике, если чекбокс непустой - добавляем обработчик `keypress` на инпут, в качестве функции-обработчика используем `validateInput`. Если пустой - то этот обработчик удаляем.

### Полезные ссылки по занятию:
 - [Введение в браузерные события](https://learn.javascript.ru/introduction-browser-events#event-object) - общая информация по браузерным событиям
 - [Всплытие событий](https://learn.javascript.ru/bubbling-and-capturing) - максимально полезная информация по всплытию событий, настоятельно рекомендуется к прочтению.
 - [Спецификация MDN](https://developer.mozilla.org/ru/docs/Web/API/Event) - русскоязычная (местами) спецификация событий. Рекомендуется к ознакомлению "по диагонали", в дальнейшем - использовать как справочник.